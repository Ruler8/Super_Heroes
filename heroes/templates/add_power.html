{% extends 'base.html' %}

{% block head %}
    <title>Add Power</title>
{% endblock %}

{% block body %}
<div class="content">
    <h1>Add a New Power</h1>

    <form action="/add_power" method="post">
        <label for="power_name">Power Name:</label><br>
        <input type="text" id="power_name" name="power_name" placeholder="e.g., Invisibility" required><br><br>
        
        <input type="submit" value="Add Power">
        <a href="/" class="button">Back to Heroes</a>
        <a href="/assign_power" class="button">Assign a Power to Hero</a>
    </form>

    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}

    <h2>Available Powers</h2>
    {% if powers %}
    <table>
        <tr>
            <th>ID</th>
            <th>Power Name</th>
            <th>Actions</th>
        </tr>
        {% for power in powers %}
        <tr>
            <td>{{ power.id }}</td>
            <td>{{ power.name }}</td>
            <td>
                <a href="/edit_power/{{ power.id }}" class="button">Edit</a> |
                <a href="/delete_power/{{ power.id }}" onclick="return confirm('Are you sure you want to delete this power?')" class="button">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
        <p><em>No powers added yet.</em></p>
    {% endif %}
</div>
{% endblock %}
